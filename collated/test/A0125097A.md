# A0125097A
###### \java\guitests\DeleteCommandTest.java
``` java
public class DeleteCommandTest extends AddressBookGuiTest {

    @Test
    public void delete() {

        //delete the first in the list
        TestActivity[] currentList = td.getTypicalActivities();
        int targetIndex = 1;
        assertDeleteSuccess(targetIndex, currentList);

        //delete the last in the list
        currentList = TestUtil.removePersonFromList(currentList, targetIndex);
        targetIndex = currentList.length;
        assertDeleteSuccess(targetIndex, currentList);

        //delete from the middle of the list
        currentList = TestUtil.removePersonFromList(currentList, targetIndex);
        targetIndex = currentList.length/2;
        assertDeleteSuccess(targetIndex, currentList);

        //invalid index
        commandBox.runCommand("delete " + currentList.length + 1);
        assertResultMessage("The task index provided is invalid");

    }

    /**
     * Runs the delete command to delete the person at specified index and confirms the result is correct.
     * @param targetIndexOneIndexed e.g. to delete the first person in the list, 1 should be given as the target index.
     * @param currentList A copy of the current list of persons (before deletion).
     */
    private void assertDeleteSuccess(int targetIndexOneIndexed, final TestActivity[] currentList) {
        TestActivity personToDelete = currentList[targetIndexOneIndexed-1]; //-1 because array uses zero indexing
        TestActivity[] expectedRemainder = TestUtil.removePersonFromList(currentList, targetIndexOneIndexed);

        commandBox.runCommand("delete " + targetIndexOneIndexed);

        //confirm the list now contains all previous persons except the deleted person
        assertTrue(activityListPanel.isListMatching(expectedRemainder));

        //confirm the result message is correct
        assertResultMessage(String.format(MESSAGE_DELETE_TASK_SUCCESS, personToDelete.getAsText()));
    }

}
```
###### \java\guitests\EditCommandTest.java
``` java
public class EditCommandTest extends AddressBookGuiTest {

    @Test
    public void edit_activityParameters(){
        TestActivity[] currentList = td.getTypicalActivities();
        int index = 1;
        assertEditNameResult(index,currentList);
        assertEditReminderResult(index,currentList);

        
    }
    
    @Test
    public void edit_taskParameters(){
        TestActivity[] currentList = td.getTypicalActivities();
        int index = 3;
        assertEditNameResult(index,currentList);
        assertEditReminderResult(index,currentList);
        assertEditDuedateResult(index,currentList);
        
        index = 2;
        assertEditPriorityResult(index,currentList);
        

        
    }
    
    private void assertEditReminderResult(int index,TestActivity... currentList){
        String newReminder = "12-12-2222 2222";
        TestActivity activityToEdit = new TestActivity(currentList[index-1]);
        commandBox.runCommand("edit " + index + " r/" + newReminder);
        
        TestActivity activityAfterEdit = currentList[index-1];
        activityAfterEdit.setReminder(newReminder);
        
        assertResultMessage(String.format("Edited Task from: %1$s\nto: %2$s",
                activityToEdit.getAsText(),activityAfterEdit.getAsText()));
        
        assertTrue(activityListPanel.isListMatching(currentList));
 
    }
    
    private void assertEditNameResult(int index,TestActivity... currentList){
        String newName = "Editted Name";
        TestActivity activityToEdit = new TestActivity(currentList[index-1]);
        commandBox.runCommand("edit " + index + " n/" + newName);
        
        TestActivity activityAfterEdit = currentList[index-1];
        activityAfterEdit.setName(newName);
        
        assertResultMessage(String.format("Edited Task from: %1$s\nto: %2$s",
                activityToEdit.getAsText(),activityAfterEdit.getAsText()));
        
        assertTrue(activityListPanel.isListMatching(currentList));
 
    }
    
    private void assertEditDuedateResult(int index, TestActivity... currentList) {
        String newDuedate = "22-12-2222 2222";
        TestActivity activityToEdit = new TestActivity(currentList[index-1]);
        commandBox.runCommand("edit " + index + " d/" + newDuedate);
        
        TestActivity activityAfterEdit = currentList[index-1];
        ((TestTask) activityAfterEdit).setDuedate(newDuedate);
        
        assertResultMessage(String.format("Edited Task from: %1$s\nto: %2$s",
                activityToEdit.getAsText(),activityAfterEdit.getAsText()));
        
        assertTrue(activityListPanel.isListMatching(currentList));
    }
    
    private void assertEditPriorityResult(int index, TestActivity[] currentList) {
        String newPriority = "3";
        TestActivity activityToEdit = new TestActivity(currentList[index-1]);
        commandBox.runCommand("edit " + index + " p/" + newPriority);
        
        TestActivity activityAfterEdit = currentList[index-1];
        ((TestTask) activityAfterEdit).setPriority(newPriority);
        
        assertResultMessage(String.format("Edited Task from: %1$s\nto: %2$s",
                activityToEdit.getAsText(),activityAfterEdit.getAsText()));
        
        assertTrue(activityListPanel.isListMatching(currentList));
    }
}
```
###### \java\guitests\guihandles\ActivityCardHandle.java
``` java
public class ActivityCardHandle extends GuiHandle {
    private static final String NAME_FIELD_ID = "#name";
    private static final String REMINDER_FIELD_ID = "#reminder";
    private static final String DUEDATE_FIELD_ID = "#line1";
    //private static final String PRIORITY_FIELD_ID = "#line2";
    private static final String STARTENDTIME_FIELD_ID = "#line1";

    

    private Node node;

    public ActivityCardHandle(GuiRobot guiRobot, Stage primaryStage, Node node){
        super(guiRobot, primaryStage, null);
        this.node = node;
    }

    protected String getTextFromLabel(String fieldId) {
        return getTextFromLabel(fieldId, node);
    }

    public String getFullName() {
        return getTextFromLabel(NAME_FIELD_ID);
    }

    public String getReminder() {
        return getTextFromLabel(REMINDER_FIELD_ID);
    }
    
    public String getDueDate() {
    	return getTextFromLabel(DUEDATE_FIELD_ID);
    }
    
   /* public String getPriority() {
    	return getTextFromLabel(PRIORITY_FIELD_ID);
    }*/
    
    public String getStartEndTime() {
    	return getTextFromLabel(STARTENDTIME_FIELD_ID);
    }
    

```
###### \java\guitests\ListCommandTest.java
``` java
public class ListCommandTest extends AddressBookGuiTest  {

    @Test
    public void list_fromEmptyPanel() {
        TestActivity[] currentList = td.getTypicalActivities();
        commandBox.runCommand("find nothing");
        
        commandBox.runCommand("list");
        assertTrue(activityListPanel.isListMatching(currentList));  
    }
    
    @Test
    public void listTask_fromAllPanelsShown() {
        TestActivity[] currentList = td.getTypicalActivities();
        TestActivity[] expectedList = td.getTasksOnly();
        
        commandBox.runCommand("list task");  
        assertTrue(activityListPanel.isListMatching(expectedList));  
    }
    
    @Test
    public void listActivities_fromAllPanelsShown() {
        TestActivity[] currentList = td.getTypicalActivities();
        TestActivity[] expectedList = td.getActivitiesOnly();
        
        commandBox.runCommand("list activity");  
        assertTrue(activityListPanel.isListMatching(expectedList));  
    }
    
    @Test
    public void listEvents_fromAllPanelsShown() {
        TestActivity[] currentList = td.getTypicalActivities();
        TestActivity[] expectedList = td.getEventsOnly();
        
        commandBox.runCommand("list event");  
        assertTrue(activityListPanel.isListMatching(expectedList));  
    }
    
    
}
```
###### \java\guitests\UndoCommandTest.java
``` java
public class UndoCommandTest extends AddressBookGuiTest {

    @Test
    public void undo_addCommand() {
        TestActivity[] currentList = td.getTypicalActivities();
        TestActivity activityToAdd = td.findHoon;
        assertUndoAddResult(activityToAdd,currentList);
        
    }
    
    @Test
    public void undo_deleteCommand() {
        TestActivity[] currentList = td.getTypicalActivities();
        int index = 2;
        assertUndoDeleteResult(index,currentList);
    }
    
    @Test
    public void undo_doneCommand() {
        TestActivity[] currentList = td.getTypicalActivities();
        int index = 4;
        assertUndoDoneResult(index,currentList);
    }

    @Test
    public void undo_editCommand() {
        TestActivity[] currentList = td.getTypicalActivities();
        int index = 1;
        String newName = "new name";
        String newReminder = "29-12-2021 2200";
        TestActivity activityBeforeEdit = new TestActivity(currentList[index-1]);
        TestActivity activityAfterEdit = new TestActivity(currentList[index-1]);
        activityAfterEdit.setName(newName);
        activityAfterEdit.setReminder(newReminder);
        String editCommand = "edit " + index + " n/" + newName + " r/" + newReminder;
        assertUndoEditResult(editCommand,activityBeforeEdit,activityAfterEdit,currentList);
    }
    
    
    private void assertUndoEditResult(String command, TestActivity activityAfterUndo, TestActivity activityBeforeUndo, TestActivity[] currentList) {
        commandBox.runCommand(command);
        commandBox.runCommand("undo"); 
        assertResultMessage(String.format("Undo: Editting task from: %1$s\nto: %2$s",
                activityAfterUndo.getAsText(),activityBeforeUndo.getAsText()));
        assertTrue(activityListPanel.isListMatching(currentList));
  
        
    }

    private void assertUndoAddResult(TestActivity activity,TestActivity... currentList){
        commandBox.runCommand(activity.getAddCommand());
        commandBox.runCommand("undo");
        assertResultMessage(String.format("Undo: Adding of new task: %1$s",activity.getAsText()));
        assertTrue(activityListPanel.isListMatching(currentList));
        
    }
    
    private void assertUndoDeleteResult(int index,TestActivity... currentList){
        TestActivity activityToDelete = currentList[index-1];
        
        commandBox.runCommand("delete " + index);
        commandBox.runCommand("undo");
        assertResultMessage(String.format("Undo: Deleting task: %1$s",activityToDelete.getAsText()));
        assertTrue(activityListPanel.isListMatching(currentList));
    }
    
    private void assertUndoDoneResult(int index,TestActivity... currentList){
        TestActivity activityToDone = currentList[index-1];
        
        commandBox.runCommand("done " + index);
        commandBox.runCommand("undo");
        assertResultMessage(String.format("Undo: Marked task as Completed: %1$s",activityToDone.getAsText()));
        assertTrue(activityListPanel.isListMatching(currentList));
        
    }
    
}
```
